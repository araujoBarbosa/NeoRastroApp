<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NeoRastro ‚Äî Login</title>
  <link rel="stylesheet" href="estilo.css" />
  <style>
    /* Ajustes visuais locais */
    .so-leitor { position:absolute; left:-10000px; width:1px; height:1px; overflow:hidden; }
    .links { display:flex; justify-content:space-between; align-items:center; font-size:.95rem; }
    .links a { color:#93c5fd; text-decoration:none; }
    .links a:hover { text-decoration:underline; }
    .mensagem { display:block; padding:10px; border-radius:10px; font-size:.95rem; }
    .mensagem:empty { display:none; }
    .mensagem.erro { background:#fee2e2; color:#7f1d1d; }
    .mensagem.sucesso { background:#dcfce7; color:#14532d; }
    .campo-senha { position:relative; }
    .botao-alternar-senha {
      position:absolute; right:10px; top:50%; transform:translateY(-50%);
      background:none; border:0; color:#93c5fd; cursor:pointer; font-size:1.05rem;
    }
    .nome-empresa {
      font-size: 2rem; font-weight: 800; text-align: center;
      margin-bottom: 10px; color: #1d4ed8; text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
    }
    .titulo-login {
      font-size: 1.3rem; text-align: center; margin-bottom: 20px;
      color: #22c55e; font-weight: 600;
    }
    .linha-login {
      display: flex; align-items: center; justify-content: space-between;
      margin-top: 1rem; gap: 1rem;
    }
    .lembrar-dispositivo {
      display: flex; align-items: center; gap: 8px;
      font-size: .9rem; color: #e5e7eb;
    }
    .lembrar-dispositivo input[type="checkbox"] {
      width: 16px; height: 16px; accent-color: #2563eb;
    }
  </style>
</head>
<body class="pagina--autenticacao">

  <div class="sobreposicao">
    <main class="container" style="display:grid;place-items:center;min-height:80dvh">
      <section class="secao-formulario cartao-escuro" aria-labelledby="titulo-login">
        <h1 class="nome-empresa">NeoRastro</h1>
        <h2 id="titulo-login" class="titulo-login">Fa√ßa seu Login</h2>

        <div id="mensagem-login" class="mensagem" role="status" aria-live="polite"></div>

        <form id="formLogin" autocomplete="on" novalidate>
          <label class="so-leitor" for="email">E-mail</label>
          <input id="email" name="email" type="email" placeholder="Seu e-mail" required />

          <div class="campo-senha">
            <label class="so-leitor" for="senha">Senha</label>
            <input id="senha" name="senha" type="password" placeholder="Sua senha" required />
            <button type="button" class="botao-alternar-senha" id="toggleSenha">üëÅÔ∏è</button>
          </div>

          <div class="linha-login">
            <label class="lembrar-dispositivo">
              <input id="lembrar" type="checkbox" /> <span>Lembrar de mim</span>
            </label>
            <button id="botao-entrar" type="submit">Entrar</button>
          </div>
        </form>

        <div class="links" style="margin-top:.75rem">
          <a href="#">Esqueci minha senha</a>
          <a href="cadastro.html">Criar conta</a>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Mostrar/ocultar senha
    const senhaCampo = document.getElementById("senha");
    const toggleSenha = document.getElementById("toggleSenha");
    toggleSenha.addEventListener("click", () => {
      const tipo = senhaCampo.type === "password" ? "text" : "password";
      senhaCampo.type = tipo;
      toggleSenha.textContent = tipo === "password" ? "üëÅÔ∏è" : "üôà";
    });

    // Login
    const form = document.getElementById("formLogin");
    const mensagem = document.getElementById("mensagem-login");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      const senha = document.getElementById("senha").value.trim();
      if (!email || !senha) {
        mensagem.textContent = "‚ö†Ô∏è Preencha todos os campos.";
        mensagem.className = "mensagem erro";
        return;
      }
      mensagem.textContent = "üîÑ Conectando...";
      mensagem.className = "mensagem";

      try {
        const resposta = await fetch("https://api.neorastro.cloud/login", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, senha }),
        });
        const dados = await resposta.json();
        if (dados.status === "sucesso") {
          mensagem.textContent = "‚úÖ Login realizado com sucesso! Redirecionando...";
          mensagem.className = "mensagem sucesso";
          setTimeout(() => window.location.href = "painel.html", 1000);
        } else {
          mensagem.textContent = "‚ùå " + (dados.mensagem || "E-mail ou senha incorretos.");
          mensagem.className = "mensagem erro";
        }
      } catch {
        mensagem.textContent = "‚ö†Ô∏è Erro ao conectar ao servidor.";
        mensagem.className = "mensagem erro";
      }
    });
  </script>
</body>
</html>




